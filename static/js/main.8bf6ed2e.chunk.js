(this["webpackJsonpkindscreen-test"]=this["webpackJsonpkindscreen-test"]||[]).push([[0],{36:function(e,t,n){e.exports=n(49)},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),u=n(8),i=n.n(u),l=n(10),s=n(16),m=n(14),p=n(52),d=n(53),f=n(51),b=n(54),v=n(55),g=n(56),E=n(57),O=n(58),j=n(7),h=n.n(j),x=n(5),w=n(50),y=n(6);function S(){var e=Object(x.a)(["\n  color: #e0e0e0;\n"]);return S=function(){return e},e}function k(){var e=Object(x.a)(["\n  background: linear-gradient(to bottom right, #039fd9, #7d50d5);\n  padding: 0;\n  margin: 0;\n"]);return k=function(){return e},e}function C(){var e=Object(x.a)(["\n  padding-top: 11px;\n  margin-bottom: 12px;\n"]);return C=function(){return e},e}var P=Object(y.a)(w.a)(C()),U=y.a.div(k()),I=y.a.h2(S()),T=n(11),R=Object(a.createContext)(),L=function(){return Object(a.useContext)(R)},B="LOADING_POSTS",_="FETCH_POSTS_SUCCESS",F="FETCH_POSTS_ERROR",N="STARRED_POST",z="UNSTARRED_POST",A=function(e){return{type:_,payload:e}};function J(){var e=Object(x.a)(["\n  color: #f5f5f5;\n"]);return J=function(){return e},e}function D(){var e=Object(x.a)(["\n  color: white;\n  margin-top: 10px;\n  margin-bottom: 15px;\n"]);return D=function(){return e},e}function W(){var e=Object(x.a)(["\n  background-color: white !important;\n  margin-top: 15px;\n  margin-bottom: 14px;\n"]);return W=function(){return e},e}function H(){var e=Object(x.a)(["\n  margin-bottom: 12px;\n"]);return H=function(){return e},e}var M=Object(y.a)(w.a)(H()),G=Object(y.a)(f.a)(W()),V=Object(y.a)(s.b)(D()),$=y.a.h3(J()),q=function(e){var t=e.id,n=e.showStarred,a=L(),c=Object(l.a)(a,2),o=c[0],u=c[1],i=Object(T.a)({},o.entities[t]);return r.a.createElement(M,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement($,null,i.title),r.a.createElement("p",null,i.body),r.a.createElement(p.a,null,r.a.createElement(d.a,{sm:"3"},r.a.createElement(V,{to:"/post/".concat(i.id,"/comments")},"View comments")),r.a.createElement(d.a,null,n&&r.a.createElement(G,{onClick:function(){i.isStarred?u(function(e){return{type:z,payload:e}}(t)):u(function(e){return{type:N,payload:e}}(t))},color:"link"},i.isStarred?"Remove from Fav.":"Add To Fav."))))))};function K(){var e=Object(x.a)(["\n  margin-top: 12px;\n"]);return K=function(){return e},e}var Q=y.a.div(K()),X=function(e){var t=e.posts,n=e.allowStarredPost;return r.a.createElement(Q,null,t.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(q,{id:e,showStarred:n}))})))},Y=Object(a.createContext)(),Z=function(){return Object(a.useContext)(Y)},ee=n(15),te="https://jsonplaceholder.typicode.com",ne={users:"".concat(te,"/users"),posts:"".concat(te,"/posts")},ae=function(e){var t,n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(fetch(e));case 2:return t=a.sent,a.next=5,i.a.awrap(t.json());case 5:return n=a.sent,a.abrupt("return",n);case 7:case"end":return a.stop()}}))},re={login:function(e,t){var n,a,r,c;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,i.a.awrap(ae(ne.users));case 3:return n=o.sent,a=n.filter((function(n){return n.username.toLowerCase()===e&&n.email.toLowerCase()===t})),r=Object(l.a)(a,1),c=r[0],o.abrupt("return",c);case 8:throw o.prev=8,o.t0=o.catch(0),o.t0;case 11:case"end":return o.stop()}}),null,null,[[0,8]])},getPostsByUserId:function(e){var t,n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="".concat(ne.users,"/").concat(e,"/posts"),r.next=4,i.a.awrap(ae(t));case 4:return n=r.sent,a={entities:n.reduce((function(e,t){return Object(T.a)({},e,Object(ee.a)({},t.id,Object(T.a)({},t)))}),{}),keys:n.map((function(e){return e.id}))},r.abrupt("return",a);case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),null,null,[[0,9]])},getCommentsByPostId:function(e){var t,n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t="".concat(ne.posts,"/").concat(e,"/comments"),a.next=4,i.a.awrap(ae(t));case 4:return n=a.sent,a.abrupt("return",n);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[0,8]])}},ce=function(){var e=Object(a.useState)("1"),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Z(),u=o.loggedUser,s=o.authUser,m=L(),j=Object(l.a)(m,2),x=j[0],w=j[1],y=function(e){n!==e&&c(e)},S=Object(a.useMemo)((function(){return x.keys.filter((function(e){return x.entities[e].isStarred}))}),[x]);return Object(a.useEffect)((function(){!function(){var e;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w({type:B}),t.next=4,i.a.awrap(re.getPostsByUserId(u.id));case 4:e=t.sent,w(A(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[u.id,w]),r.a.createElement(U,null,r.a.createElement(P,null,r.a.createElement(p.a,null,r.a.createElement(d.a,{sm:9},r.a.createElement(I,null,"Welcome: ",u.name)),r.a.createElement(d.a,{sm:{size:3}},r.a.createElement(f.a,{color:"danger",onClick:function(){s(null)}},"Loggout")))),r.a.createElement(b.a,{tabs:!0},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:h()({active:"1"===n}),onClick:function(){y("1")}},"Posts Feed")),r.a.createElement(v.a,null,r.a.createElement(g.a,{className:h()({active:"2"===n}),onClick:function(){y("2")}},"Favorite Posts"))),r.a.createElement(E.a,{activeTab:n},r.a.createElement(O.a,{tabId:"1"},x.loading?r.a.createElement("p",null,"loading your posts"):r.a.createElement(X,{posts:x.keys,allowStarredPost:!0})),r.a.createElement(O.a,{tabId:"2"},r.a.createElement(X,{posts:S}))))};function oe(){var e=Object(x.a)(["\n  background-color: red;\n"]);return oe=function(){return e},e}function ue(){var e=Object(x.a)(["\n  color: white;\n  text-align: center;\n  padding-top: 86px;\n"]);return ue=function(){return e},e}function ie(){var e=Object(x.a)(["\n  background-color: white;\n  border-radius: 6px;\n  color: #49a2e1;\n  font-weight: 600;\n\n  padding-top: auto;\n  padding-bottom: auto;\n  text-align: center;\n  margin-bottom: 1rem;\n  font-size: 1.1rem;\n  padding: 12px 15px 11px 15px;\n  border: none;\n"]);return ie=function(){return e},e}function le(){var e=Object(x.a)(["\n  padding: 1rem;\n  border-top: transparent !important;\n  border-left: transparent !important;\n  border-right: transparent !important;\n  border-bottom: 1px solid white;\n  box-shadow: none !important;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  background-color: transparent;\n  outline: none;\n  color: white;\n  &::placeholder {\n    color: white;\n  }\n"]);return le=function(){return e},e}function se(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return se=function(){return e},e}function me(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return me=function(){return e},e}var pe=y.a.div(me()),de=y.a.div(se()),fe=y.a.input(le()),be=y.a.button(ie()),ve=y.a.h1(ue());y.a.div(oe());function ge(){var e=Object(x.a)(["\n  background: linear-gradient(to bottom right, #039fd9, #7d50d5);\n  height: 100vh;\n"]);return ge=function(){return e},e}var Ee=y.a.div(ge());function Oe(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 36px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(x.a)(["\n  text-transform: capitalize;\n"]);return je=function(){return e},e}var he=Object(y.a)(fe)(je()),xe=y.a.div(Oe()),we=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),s=u[0],p=u[1],d=Z(),f=d.loggedUser,b=d.authUser;return f?r.a.createElement(m.a,{to:"/welcome"}):r.a.createElement(Ee,null,r.a.createElement(ve,null,"UMBRELLA"),r.a.createElement(pe,null,r.a.createElement(ve,{src:""}),r.a.createElement(de,null,r.a.createElement(he,{type:"text",placeholder:"Enter your username",value:n,onChange:function(e){e.persist(),c(e.target.value)}}),r.a.createElement(fe,{type:"email",placeholder:"Password",onChange:function(e){e.persist(),p(e.target.value)},value:s}),r.a.createElement(xe,null,r.a.createElement(be,{role:"button",onClick:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(re.login(n.toLowerCase(),s.toLowerCase()));case 2:(e=t.sent)?b(e):alert("user not found");case 4:case"end":return t.stop()}}))}},"Sign In")))))},ye=function(e){var t=e.comment;return r.a.createElement(w.a,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement("h3",null,t.name),r.a.createElement("h4",null,t.email),r.a.createElement("p",null,t.body))))},Se=function(e){var t=e.match,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){!function(){var e;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(re.getCommentsByPostId(t.params.id));case 2:e=n.sent,u(e);case 4:case"end":return n.stop()}}))}()}),[t.params.id]),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(ye,{key:e.id,comment:e})})))},ke=n(33),Ce=function(e){var t=e.component,n=Object(ke.a)(e,["component"]),c=Z().loggedUser,o=Object(a.useCallback)((function(e){return c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/"})}),[c]);return r.a.createElement(m.b,Object.assign({},n,{render:o}))},Pe={entities:{},keys:[],loading:!1,err:null},Ue=function(e,t){switch(t.type){case _:return Object(T.a)({},t.payload,{loading:!1,err:null});case F:return Object(T.a)({},e,{err:t.payload});case B:return Object(T.a)({},e,{loading:!0});case N:var n=Object(T.a)({},e.entities[t.payload]);return n.isStarred=!0,Object(T.a)({},e,{entities:Object(T.a)({},e.entities,Object(ee.a)({},t.payload,n))});case z:var a=Object(T.a)({},e.entities[t.payload]);return a.isStarred=!1,Object(T.a)({},e,{entities:Object(T.a)({},e.entities,Object(ee.a)({},t.payload,a))});default:throw new Error}},Ie=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useReducer)(Ue,Pe),u=Object(l.a)(o,2),p=u[0],d=u[1];Object(a.useEffect)((function(){!function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=localStorage.getItem("user"))){n.next=6;break}return n.next=4,i.a.awrap(JSON.parse(e));case 4:t=n.sent,c(t);case 6:case"end":return n.stop()}}))}()}),[]);return r.a.createElement(Y.Provider,{value:{loggedUser:n,authUser:function(e){localStorage.setItem("user",JSON.stringify(e)),c(e)}}},r.a.createElement(R.Provider,{value:[p,d]},r.a.createElement(s.a,{basename:"/"},r.a.createElement(m.b,{exact:!0,path:"/",component:we}),r.a.createElement(Ce,{path:"/welcome",component:ce}),r.a.createElement(Ce,{path:"/post/:id/comments",component:Se}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48);o.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.8bf6ed2e.chunk.js.map