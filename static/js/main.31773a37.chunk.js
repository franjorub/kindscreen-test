(this["webpackJsonpkindscreen-test"]=this["webpackJsonpkindscreen-test"]||[]).push([[0],{37:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),u=n(8),l=n.n(u),i=n(9),s=n(15),m=n(14),p=n(53),d=n(54),f=n(52),b=n(59),v=n(60),g=n(61),E=n(62),O=n(63),h=n(5),j=n.n(h),x=n(6),w=n(51),y=n(7);function S(){var e=Object(x.a)(["\n  color: #e0e0e0;\n"]);return S=function(){return e},e}function C(){var e=Object(x.a)(["\n  background: linear-gradient(to bottom right, #039fd9, #7d50d5);\n  padding: 0;\n  margin: 0;\n  min-height: 100vh;\n"]);return C=function(){return e},e}function k(){var e=Object(x.a)(["\n  padding-top: 11px;\n  margin-bottom: 12px;\n"]);return k=function(){return e},e}var P=Object(y.a)(w.a)(k()),I=y.a.div(C()),U=y.a.h2(S()),R=n(13),T=n(55),B=n(56),L=n(57),N=n(58),_=Object(a.createContext)(),F=function(){return Object(a.useContext)(_)},J="LOADING_POSTS",z="FETCH_POSTS_SUCCESS",A="FETCH_POSTS_ERROR",D="STARRED_POST",W="UNSTARRED_POST",H=function(e){return{type:z,payload:e}},M=Object(a.createContext)(),G=function(){return Object(a.useContext)(M)};function V(){var e=Object(x.a)(["\n  color: blue;\n  margin-top: 10px;\n  margin-bottom: 15px;\n"]);return V=function(){return e},e}function $(){var e=Object(x.a)(["\n  margin-top: 15px;\n  margin-bottom: 14px;\n  margin-left: 10px;\n"]);return $=function(){return e},e}function q(){var e=Object(x.a)(["\n  margin-bottom: 12px;\n"]);return q=function(){return e},e}var K=Object(y.a)(w.a)(q()),Q=Object(y.a)(f.a)($()),X=Object(y.a)(s.b)(V()),Y=function(e){var t=e.id,n=e.showStarred,c=F(),o=Object(i.a)(c,1)[0],u=G(),l=Object(i.a)(u,2),s=l[0],m=l[1],f=Object(R.a)({},o.entities[t]);f.isStarred=Object(a.useMemo)((function(){return Boolean(s.find((function(e){return e===t})))}),[t,s]);return r.a.createElement(K,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(T.a,null,r.a.createElement(B.a,null,r.a.createElement(L.a,null,f.title),r.a.createElement(N.a,null,f.body),r.a.createElement(X,{to:"/post/".concat(f.id,"/comments")},"View comments"),n&&r.a.createElement(Q,{onClick:function(){f.isStarred?m(function(e){return{type:W,payload:e}}(t)):m(function(e){return{type:D,payload:e}}(t))},color:"info"},f.isStarred?"Remove from Fav.":"Add To Fav."))))))};function Z(){var e=Object(x.a)(["\n  margin-top: 12px;\n"]);return Z=function(){return e},e}var ee=y.a.div(Z()),te=function(e){var t=e.posts,n=e.allowStarredPost;return r.a.createElement(ee,null,t.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(Y,{id:e,showStarred:n}))})))},ne=Object(a.createContext)(),ae=function(){return Object(a.useContext)(ne)},re=n(18),ce="https://jsonplaceholder.typicode.com",oe={users:"".concat(ce,"/users"),posts:"".concat(ce,"/posts")},ue=function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(fetch(e));case 2:return t=a.sent,a.next=5,l.a.awrap(t.json());case 5:return n=a.sent,a.abrupt("return",n);case 7:case"end":return a.stop()}}))},le={login:function(e,t){var n,a,r,c;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,l.a.awrap(ue(oe.users));case 3:return n=o.sent,a=n.filter((function(n){return n.username.toLowerCase()===e&&n.email.toLowerCase()===t})),r=Object(i.a)(a,1),c=r[0],o.abrupt("return",c);case 8:throw o.prev=8,o.t0=o.catch(0),o.t0;case 11:case"end":return o.stop()}}),null,null,[[0,8]])},getPostsByUserId:function(e){var t,n,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="".concat(oe.users,"/").concat(e,"/posts"),r.next=4,l.a.awrap(ue(t));case 4:return n=r.sent,a={entities:n.reduce((function(e,t){return Object(R.a)({},e,Object(re.a)({},t.id,Object(R.a)({},t)))}),{}),keys:n.map((function(e){return e.id}))},r.abrupt("return",a);case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),null,null,[[0,9]])},getCommentsByPostId:function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t="".concat(oe.posts,"/").concat(e,"/comments"),a.next=4,l.a.awrap(ue(t));case 4:return n=a.sent,a.abrupt("return",n);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[0,8]])}},ie=function(){var e=Object(a.useState)("1"),t=Object(i.a)(e,2),n=t[0],c=t[1],o=ae(),u=o.loggedUser,s=o.authUser,m=F(),h=Object(i.a)(m,2),x=h[0],w=h[1],y=G(),S=Object(i.a)(y,1)[0],C=function(e){n!==e&&c(e)};return Object(a.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w({type:J}),t.next=4,l.a.awrap(le.getPostsByUserId(u.id));case 4:e=t.sent,w(H(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[u.id,w]),r.a.createElement(I,null,r.a.createElement(P,null,r.a.createElement(p.a,null,r.a.createElement(d.a,{sm:9},r.a.createElement(U,null,"Welcome: ",u.name)),r.a.createElement(d.a,{sm:{size:3}},r.a.createElement(f.a,{color:"danger",onClick:function(){s(null)}},"Loggout")))),r.a.createElement(b.a,{tabs:!0},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:j()({active:"1"===n}),onClick:function(){C("1")}},"Posts Feed")),r.a.createElement(v.a,null,r.a.createElement(g.a,{className:j()({active:"2"===n}),onClick:function(){C("2")}},"Favorite Posts"))),r.a.createElement(E.a,{activeTab:n},r.a.createElement(O.a,{tabId:"1"},x.loading?r.a.createElement("p",null,"loading your posts"):r.a.createElement(te,{posts:x.keys,allowStarredPost:!0})),r.a.createElement(O.a,{tabId:"2"},r.a.createElement(te,{posts:S}))))};function se(){var e=Object(x.a)(["\n  background-color: red;\n"]);return se=function(){return e},e}function me(){var e=Object(x.a)(["\n  color: white;\n  text-align: center;\n  padding-top: 86px;\n"]);return me=function(){return e},e}function pe(){var e=Object(x.a)(["\n  background-color: white;\n  border-radius: 6px;\n  color: #49a2e1;\n  font-weight: 600;\n\n  padding-top: auto;\n  padding-bottom: auto;\n  text-align: center;\n  margin-bottom: 1rem;\n  font-size: 1.1rem;\n  padding: 12px 15px 11px 15px;\n  border: none;\n"]);return pe=function(){return e},e}function de(){var e=Object(x.a)(["\n  padding: 1rem;\n  border-top: transparent !important;\n  border-left: transparent !important;\n  border-right: transparent !important;\n  border-bottom: 1px solid white;\n  box-shadow: none !important;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  background-color: transparent;\n  outline: none;\n  color: white;\n  &::placeholder {\n    color: white;\n  }\n"]);return de=function(){return e},e}function fe(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return fe=function(){return e},e}function be(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return be=function(){return e},e}var ve=y.a.div(be()),ge=y.a.div(fe()),Ee=y.a.input(de()),Oe=y.a.button(pe()),he=y.a.h1(me());y.a.div(se());function je(){var e=Object(x.a)(["\n  background: linear-gradient(to bottom right, #039fd9, #7d50d5);\n  height: 100vh;\n"]);return je=function(){return e},e}var xe=y.a.div(je());function we(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 36px;\n"]);return we=function(){return e},e}function ye(){var e=Object(x.a)(["\n  text-transform: capitalize;\n"]);return ye=function(){return e},e}var Se=Object(y.a)(Ee)(ye()),Ce=y.a.div(we()),ke=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],p=u[1],d=ae(),f=d.loggedUser,b=d.authUser;return f?r.a.createElement(m.a,{to:"/welcome"}):r.a.createElement(xe,null,r.a.createElement(he,null,"UMBRELLA"),r.a.createElement(ve,null,r.a.createElement(he,{src:""}),r.a.createElement(ge,null,r.a.createElement(Se,{type:"text",placeholder:"Enter your username",value:n,onChange:function(e){e.persist(),c(e.target.value)}}),r.a.createElement(Ee,{type:"email",placeholder:"Password",onChange:function(e){e.persist(),p(e.target.value)},value:s}),r.a.createElement(Ce,null,r.a.createElement(Oe,{role:"button",onClick:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(le.login(n.toLowerCase(),s.toLowerCase()));case 2:(e=t.sent)?b(e):alert("user not found");case 4:case"end":return t.stop()}}))}},"Sign In")))))};function Pe(){var e=Object(x.a)(["\n  margin: 10px 0px;\n"]);return Pe=function(){return e},e}var Ie=Object(y.a)(T.a)(Pe()),Ue=function(e){var t=e.comment;return r.a.createElement(w.a,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(Ie,null,r.a.createElement(B.a,null,r.a.createElement(L.a,null,t.name," ",t.email),r.a.createElement(N.a,null,t.body))))))},Re=function(e){var t=e.match,n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){!function(){var e;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(le.getCommentsByPostId(t.params.id));case 2:e=n.sent,u(e);case 4:case"end":return n.stop()}}))}()}),[t.params.id]),r.a.createElement(w.a,null,r.a.createElement("h3",null,"Comments"),o.map((function(e){return r.a.createElement(Ue,{key:e.id,comment:e})})))},Te=n(34),Be=function(e){var t=e.component,n=Object(Te.a)(e,["component"]),c=ae().loggedUser,o=Object(a.useCallback)((function(e){return c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/"})}),[c]);return r.a.createElement(m.b,Object.assign({},n,{render:o}))},Le={entities:{},keys:[],loading:!1,err:null},Ne=function(e,t){switch(t.type){case z:return Object(R.a)({},t.payload,{loading:!1,err:null});case A:return Object(R.a)({},e,{err:t.payload});case J:return Object(R.a)({},e,{loading:!0});default:throw new Error}},_e=n(33),Fe=[],Je=function(e,t){switch(t.type){case D:var n=[].concat(Object(_e.a)(e),[t.payload]);return localStorage.setItem("starredPosts",JSON.stringify(n)),n;case W:var a=e.filter((function(e){return e!==t.payload}));return localStorage.setItem("starredPosts",JSON.stringify(a)),a;default:throw new Error}},ze=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useReducer)(Ne,Le),u=Object(i.a)(o,2),p=u[0],d=u[1],f=Object(a.useReducer)(Je,Fe),b=Object(i.a)(f,2),v=b[0],g=b[1];Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=localStorage.getItem("user"))){n.next=6;break}return n.next=4,l.a.awrap(JSON.parse(e));case 4:t=n.sent,c(t);case 6:case"end":return n.stop()}}))}()}),[]);return r.a.createElement(ne.Provider,{value:{loggedUser:n,authUser:function(e){localStorage.setItem("user",JSON.stringify(e)),c(e)}}},r.a.createElement(_.Provider,{value:[p,d]},r.a.createElement(M.Provider,{value:[v,g]},r.a.createElement(s.a,{basename:"/"},r.a.createElement(m.b,{exact:!0,path:"/",component:ke}),r.a.createElement(Be,{path:"/welcome",component:ie}),r.a.createElement(Be,{path:"/post/:id/comments",component:Re})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(49);o.a.render(r.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.31773a37.chunk.js.map