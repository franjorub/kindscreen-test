(this["webpackJsonpkindscreen-test"]=this["webpackJsonpkindscreen-test"]||[]).push([[0],{37:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),u=n(8),l=n.n(u),i=n(9),s=n(15),m=n(14),p=n(54),d=n(55),f=n(52),b=n(59),v=n(60),g=n(61),E=n(62),O=n(63),j=n(5),h=n.n(j),x=n(6),w=n(51),y=n(7);function S(){var e=Object(x.a)(["\n  color: #212121;\n"]);return S=function(){return e},e}function k(){var e=Object(x.a)(["\n  padding: 0;\n  margin: 0;\n  min-height: 100vh;\n"]);return k=function(){return e},e}function C(){var e=Object(x.a)(["\n  padding-top: 11px;\n  margin-bottom: 12px;\n"]);return C=function(){return e},e}var P=Object(y.a)(w.a)(C()),I=y.a.div(k()),U=y.a.h2(S()),R=n(13),T=n(53),B=n(56),L=n(57),N=n(58),_=Object(a.createContext)(),F=function(){return Object(a.useContext)(_)},J="LOADING_POSTS",z="FETCH_POSTS_SUCCESS",A="FETCH_POSTS_ERROR",D="STARRED_POST",W="UNSTARRED_POST",H=function(e){return{type:z,payload:e}},M=Object(a.createContext)(),G=function(){return Object(a.useContext)(M)};function V(){var e=Object(x.a)(["\n  background-color: rgba(255, 255, 255, 0.8) !important;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n"]);return V=function(){return e},e}function $(){var e=Object(x.a)(["\n  color: blue;\n  margin-top: 10px;\n  margin-bottom: 15px;\n"]);return $=function(){return e},e}function q(){var e=Object(x.a)(["\n  margin-top: 15px;\n  margin-bottom: 14px;\n  margin-left: 10px;\n"]);return q=function(){return e},e}function K(){var e=Object(x.a)(["\n  margin-bottom: 12px;\n"]);return K=function(){return e},e}var Q=Object(y.a)(w.a)(K()),X=Object(y.a)(f.a)(q()),Y=Object(y.a)(s.b)($()),Z=Object(y.a)(T.a)(V()),ee=function(e){var t=e.id,n=e.showStarred,c=F(),o=Object(i.a)(c,1)[0],u=G(),l=Object(i.a)(u,2),s=l[0],m=l[1],f=Object(R.a)({},o.entities[t]);f.isStarred=Object(a.useMemo)((function(){return Boolean(s.find((function(e){return e===t})))}),[t,s]);return r.a.createElement(Q,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(Z,null,r.a.createElement(B.a,null,r.a.createElement(L.a,null,r.a.createElement("h3",null,f.title)),r.a.createElement(N.a,null,f.body),r.a.createElement(Y,{to:"/post/".concat(f.id,"/comments")},"View comments"),n&&r.a.createElement(X,{onClick:function(){f.isStarred?m(function(e){return{type:W,payload:e}}(t)):m(function(e){return{type:D,payload:e}}(t))},color:"secondary",outline:!0},f.isStarred?"Remove from Fav.":"Add To Fav."))))))};function te(){var e=Object(x.a)(["\n  margin-top: 12px;\n"]);return te=function(){return e},e}var ne=y.a.div(te()),ae=function(e){var t=e.posts,n=e.allowStarredPost;return r.a.createElement(ne,null,t.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(ee,{id:e,showStarred:n}))})))},re=Object(a.createContext)(),ce=function(){return Object(a.useContext)(re)},oe=n(18),ue="https://jsonplaceholder.typicode.com",le={users:"".concat(ue,"/users"),posts:"".concat(ue,"/posts")},ie=function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(fetch(e));case 2:return t=a.sent,a.next=5,l.a.awrap(t.json());case 5:return n=a.sent,a.abrupt("return",n);case 7:case"end":return a.stop()}}))},se={login:function(e,t){var n,a,r,c;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,l.a.awrap(ie(le.users));case 3:return n=o.sent,a=n.filter((function(n){return n.username.toLowerCase()===e&&n.email.toLowerCase()===t})),r=Object(i.a)(a,1),c=r[0],o.abrupt("return",c);case 8:throw o.prev=8,o.t0=o.catch(0),o.t0;case 11:case"end":return o.stop()}}),null,null,[[0,8]])},getPostsByUserId:function(e){var t,n,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="".concat(le.users,"/").concat(e,"/posts"),r.next=4,l.a.awrap(ie(t));case 4:return n=r.sent,a={entities:n.reduce((function(e,t){return Object(R.a)({},e,Object(oe.a)({},t.id,Object(R.a)({},t)))}),{}),keys:n.map((function(e){return e.id}))},r.abrupt("return",a);case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),null,null,[[0,9]])},getCommentsByPostId:function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t="".concat(le.posts,"/").concat(e,"/comments"),a.next=4,l.a.awrap(ie(t));case 4:return n=a.sent,a.abrupt("return",n);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[0,8]])}},me=function(){var e=Object(a.useState)("1"),t=Object(i.a)(e,2),n=t[0],c=t[1],o=ce(),u=o.loggedUser,s=o.authUser,m=F(),j=Object(i.a)(m,2),x=j[0],w=j[1],y=G(),S=Object(i.a)(y,1)[0],k=function(e){n!==e&&c(e)};return Object(a.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w({type:J}),t.next=4,l.a.awrap(se.getPostsByUserId(u.id));case 4:e=t.sent,w(H(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[u.id,w]),r.a.createElement(I,null,r.a.createElement(P,null,r.a.createElement(p.a,null,r.a.createElement(d.a,{sm:9},r.a.createElement(U,null,"Welcome: ",u.name)),r.a.createElement(d.a,{sm:{size:3}},r.a.createElement(f.a,{color:"danger",onClick:function(){s(null)}},"Loggout")))),r.a.createElement(b.a,{tabs:!0},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:h()({active:"1"===n}),onClick:function(){k("1")}},"Posts Feed")),r.a.createElement(v.a,null,r.a.createElement(g.a,{className:h()({active:"2"===n}),onClick:function(){k("2")}},"Favorite Posts"))),r.a.createElement(E.a,{activeTab:n},r.a.createElement(O.a,{tabId:"1"},x.loading?r.a.createElement("p",null,"loading your posts"):r.a.createElement(ae,{posts:x.keys,allowStarredPost:!0})),r.a.createElement(O.a,{tabId:"2"},r.a.createElement(ae,{posts:S}))))};function pe(){var e=Object(x.a)(["\n  background-color: red;\n"]);return pe=function(){return e},e}function de(){var e=Object(x.a)(["\n  color: white;\n  text-align: center;\n  padding-top: 86px;\n"]);return de=function(){return e},e}function fe(){var e=Object(x.a)(["\n  background-color: white;\n  border-radius: 6px;\n  color: #49a2e1;\n  font-weight: 600;\n\n  padding-top: auto;\n  padding-bottom: auto;\n  text-align: center;\n  margin-bottom: 1rem;\n  font-size: 1.1rem;\n  padding: 12px 15px 11px 15px;\n  border: none;\n"]);return fe=function(){return e},e}function be(){var e=Object(x.a)(["\n  padding: 1rem;\n  border-top: transparent !important;\n  border-left: transparent !important;\n  border-right: transparent !important;\n  border-bottom: 1px solid white;\n  box-shadow: none !important;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n  background-color: transparent;\n  outline: none;\n  color: white;\n  &::placeholder {\n    color: white;\n  }\n"]);return be=function(){return e},e}function ve(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return ve=function(){return e},e}function ge(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ge=function(){return e},e}var Ee=y.a.div(ge()),Oe=y.a.div(ve()),je=y.a.input(be()),he=y.a.button(fe()),xe=y.a.h1(de());y.a.div(pe());function we(){var e=Object(x.a)(["\n  background: linear-gradient(to bottom right, #039fd9, #7d50d5);\n  height: 100vh;\n"]);return we=function(){return e},e}var ye=y.a.div(we());function Se(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 36px;\n"]);return Se=function(){return e},e}function ke(){var e=Object(x.a)(["\n  text-transform: capitalize;\n"]);return ke=function(){return e},e}var Ce=Object(y.a)(je)(ke()),Pe=y.a.div(Se()),Ie=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),s=u[0],p=u[1],d=ce(),f=d.loggedUser,b=d.authUser;return f?r.a.createElement(m.a,{to:"/welcome"}):r.a.createElement(ye,null,r.a.createElement(xe,null,"UMBRELLA"),r.a.createElement(Ee,null,r.a.createElement(xe,{src:""}),r.a.createElement(Oe,null,r.a.createElement(Ce,{type:"text",placeholder:"Enter your username",value:n,onChange:function(e){e.persist(),c(e.target.value)}}),r.a.createElement(je,{type:"email",placeholder:"Password",onChange:function(e){e.persist(),p(e.target.value)},value:s}),r.a.createElement(Pe,null,r.a.createElement(he,{role:"button",onClick:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(se.login(n.toLowerCase(),s.toLowerCase()));case 2:(e=t.sent)?b(e):alert("user not found");case 4:case"end":return t.stop()}}))}},"Sign In")))))};function Ue(){var e=Object(x.a)(["\n  margin: 10px 0px;\n"]);return Ue=function(){return e},e}var Re=Object(y.a)(T.a)(Ue()),Te=function(e){var t=e.comment;return r.a.createElement(w.a,null,r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(Re,null,r.a.createElement(B.a,null,r.a.createElement(L.a,null,t.name," ",t.email),r.a.createElement(N.a,null,t.body))))))},Be=function(e){var t=e.match,n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){!function(){var e;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(se.getCommentsByPostId(t.params.id));case 2:e=n.sent,u(e);case 4:case"end":return n.stop()}}))}()}),[t.params.id]),r.a.createElement(w.a,null,r.a.createElement("h3",null,"Comments"),o.map((function(e){return r.a.createElement(Te,{key:e.id,comment:e})})))},Le=n(34),Ne=function(e){var t=e.component,n=Object(Le.a)(e,["component"]),c=ce().loggedUser,o=Object(a.useCallback)((function(e){return c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/"})}),[c]);return r.a.createElement(m.b,Object.assign({},n,{render:o}))},_e={entities:{},keys:[],loading:!1,err:null},Fe=function(e,t){switch(t.type){case z:return Object(R.a)({},t.payload,{loading:!1,err:null});case A:return Object(R.a)({},e,{err:t.payload});case J:return Object(R.a)({},e,{loading:!0});default:throw new Error}},Je=n(33),ze=[],Ae=function(e,t){switch(t.type){case D:var n=[].concat(Object(Je.a)(e),[t.payload]);return localStorage.setItem("starredPosts",JSON.stringify(n)),n;case W:var a=e.filter((function(e){return e!==t.payload}));return localStorage.setItem("starredPosts",JSON.stringify(a)),a;default:throw new Error}},De=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useReducer)(Fe,_e),u=Object(i.a)(o,2),p=u[0],d=u[1],f=Object(a.useReducer)(Ae,ze),b=Object(i.a)(f,2),v=b[0],g=b[1];Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=localStorage.getItem("user"))){n.next=6;break}return n.next=4,l.a.awrap(JSON.parse(e));case 4:t=n.sent,c(t);case 6:case"end":return n.stop()}}))}()}),[]);return r.a.createElement(re.Provider,{value:{loggedUser:n,authUser:function(e){localStorage.setItem("user",JSON.stringify(e)),c(e)}}},r.a.createElement(_.Provider,{value:[p,d]},r.a.createElement(M.Provider,{value:[v,g]},r.a.createElement(s.a,{basename:"/"},r.a.createElement(m.b,{exact:!0,path:"/",component:Ie}),r.a.createElement(Ne,{path:"/welcome",component:me}),r.a.createElement(Ne,{path:"/post/:id/comments",component:Be})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(49);o.a.render(r.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.ee8af3e2.chunk.js.map